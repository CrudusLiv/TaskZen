.detail-overlay{position:fixed;inset:0;background:rgba(10,12,15,.82);backdrop-filter:blur(6px);display:flex;align-items:stretch;justify-content:flex-end;padding:0;z-index:120;} 
.detail{background:linear-gradient(145deg,var(--color-bg-alt) 0%,var(--color-bg-alt2) 100%);border-left:1px solid var(--color-border);box-shadow:-4px 0 14px -4px rgba(0,0,0,.6);border-radius:0;width:clamp(20rem,40vw,36rem);padding:1.2rem 1.4rem;display:flex;flex-direction:column;gap:1rem;animation:slideIn .45s var(--easing);} 
@keyframes slideIn{from{transform:translateX(25%);opacity:0;}to{transform:translateX(0);opacity:1;}}
.detail-header{display:flex;justify-content:space-between;align-items:center;gap:.75rem;}
.detail-title{margin:0;font-size:1.05rem;letter-spacing:.4px;background:linear-gradient(90deg,#fff,var(--color-brand-accent));-webkit-background-clip:text;background-clip:text;color:transparent;}
.header-actions{display:flex;align-items:center;gap:.4rem;}
.detail .meta{font-size:.6rem;opacity:.65;letter-spacing:.35px;}
.muted{opacity:.6;}
section.comments{display:flex;flex-direction:column;gap:.5rem;}
.comments-header{display:flex;align-items:center;justify-content:space-between;cursor:pointer;}
.comments-header h4{margin:0;font-size:.75rem;}
.comments-header button{background:transparent;border:none;font-size:.7rem;cursor:pointer;}
.comment-list{display:flex;flex-direction:column;gap:.6rem;max-height:14rem;overflow:auto;}
.comment{display:flex;gap:.6rem;font-size:.6rem;}
.comment .avatar{width:1.7rem;height:1.7rem;border-radius:50%;background:var(--color-brand);color:#fff;display:flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:600;flex-shrink:0;box-shadow:0 0 0 1px rgba(255,255,255,.08) inset;}
.comment .content{flex:1;display:flex;flex-direction:column;gap:.25rem;}
.comment .row{display:flex;align-items:center;gap:.5rem;}
.comment .user{font-weight:600;}
.comment .time{font-size:.5rem;opacity:.6;}
.comment .message{white-space:pre-wrap;}
.comment-actions{display:flex;gap:.4rem;align-items:center;}
.comment-actions button{background:transparent;border:1px solid var(--color-border);border-radius:.5rem;padding:.18rem .5rem;font-size:.55rem;cursor:pointer;color:var(--color-text-dim);transition:background .2s,color .2s,border-color .2s;}
.comment-actions button:hover{background:var(--surface-2);color:var(--color-text);} 
.comment-actions button.danger{background:rgba(239,68,68,.15);border-color:rgba(239,68,68,.4);color:#f87171;}
.comment-actions button.danger:hover{background:rgba(239,68,68,.25);} 
.emoji-picker{display:flex;gap:.25rem;}
.emoji-picker button{background:#1f242b;border:1px solid var(--color-border);border-radius:.45rem;padding:.18rem;font-size:.65rem;cursor:pointer;}
.comment-new{display:flex;flex-direction:column;gap:.4rem;margin-top:.5rem;}
.comment-new textarea{font-size:.6rem;padding:.5rem .65rem;border:1px solid var(--color-border);border-radius:.6rem;background:#14181e;color:var(--color-text);} 
.comment-new button{align-self:flex-end;background:var(--board-accent);border:1px solid var(--board-accent);color:#fff;border-radius:.6rem;padding:.45rem .85rem;font-size:.55rem;cursor:pointer;box-shadow:var(--shadow-sm);font-weight:600;letter-spacing:.25px;} 
.comment-new button:hover{box-shadow:var(--shadow-md);} 
.mention{color:#2563eb;font-weight:600;}
.reactions{display:flex;gap:.25rem;flex-wrap:wrap;margin-top:.1rem;}
.reaction{background:#1f242b;border:1px solid var(--color-border);border-radius:1rem;padding:.15rem .5rem;font-size:.55rem;cursor:pointer;color:var(--color-text-dim);transition:background .2s,color .2s,border-color .2s;}
.reaction:hover{background:#242a32;color:var(--color-text);border-color:var(--color-border-strong);} 
.content.editing textarea{font-size:.6rem;padding:.45rem .55rem;border:1px solid var(--color-border);border-radius:.55rem;width:100%;background:#14181e;color:var(--color-text);} 
.edit-actions{display:flex;gap:.4rem;}
/* Utility button system */
.btn{--btn-bg:var(--surface-2);--btn-border:var(--color-border);--btn-color:var(--color-text-dim);background:var(--btn-bg);color:var(--btn-color);border:1px solid var(--btn-border);border-radius:.6rem;padding:.45rem .9rem;font-size:.6rem;line-height:1;cursor:pointer;font-weight:500;display:inline-flex;align-items:center;gap:.4rem;transition:background .25s,color .25s,border-color .25s,box-shadow .25s;}
.btn:hover{background:var(--surface-1);color:var(--color-text);} 
.btn.primary{--btn-bg:var(--board-accent);--btn-border:var(--board-accent);--btn-color:#fff;}
.btn.primary:hover{filter:brightness(1.05);} 
.btn.danger{--btn-bg:rgba(239,68,68,.15);--btn-border:rgba(239,68,68,.4);--btn-color:#f87171;} 
.btn.danger:hover{--btn-bg:rgba(239,68,68,.25);} 
.btn.ghost{--btn-bg:transparent;--btn-border:var(--color-border);}
.btn.ghost:hover{background:var(--surface-2);} 
.btn.sm{padding:.35rem .65rem;font-size:.55rem;border-radius:.55rem;} 
.btn.xs{padding:.28rem .5rem;font-size:.5rem;border-radius:.5rem;} 
.btn-row{display:flex;gap:.5rem;align-items:center;flex-wrap:wrap;}
.btn-row.end{justify-content:flex-end;}
.icon-btn.subtle{background:transparent;border:1px solid var(--color-border);padding:.4rem .55rem;border-radius:.6rem;color:var(--color-text-dim);} 
.icon-btn.subtle:hover{background:var(--surface-2);color:var(--color-text);} 
.badge{display:inline-flex;align-items:center;padding:.25rem .55rem;font-size:.5rem;letter-spacing:.5px;background:var(--surface-2);border:1px solid var(--color-border);border-radius:var(--radius-pill);gap:.3rem;margin-right:.3rem;}
.subtask-item{display:flex;align-items:center;gap:.5rem;font-size:.6rem;padding:.25rem 0;}
