/* Column wrapper */
.k-column{display:flex;flex-direction:column;gap:.75rem;min-width:19rem;max-width:22rem;position:relative;transition:width .25s var(--easing),opacity .25s var(--easing);} 
.k-column.is-collapsed{min-width:5.25rem;max-width:5.25rem;}
.k-column.is-collapsed .k-card-list{display:none;}
.k-column.is-collapsed .k-col-header h3{opacity:0;pointer-events:none;}
.k-column.is-collapsed .collapse-btn .chevron{transform:rotate(-90deg);} 

/* Header */
.k-col-header{display:flex;align-items:center;gap:.5rem;padding:.55rem .55rem .5rem;background:linear-gradient(135deg,var(--surface-2),var(--surface-1));border-radius:.85rem .85rem .65rem .65rem;position:sticky;top:0;z-index:12;box-shadow:0 2px 4px -2px rgba(0,0,0,.4),0 1px 2px -1px rgba(0,0,0,.35);backdrop-filter:blur(5px);}
.k-col-header h3{margin:0;font-size:.75rem;cursor:pointer;letter-spacing:.65px;font-weight:650;color:var(--color-text-dim);text-transform:uppercase;display:flex;align-items:center;gap:.45rem;transition:color .25s;} 
.k-col-header h3:hover{color:var(--color-text);} 
.k-col-header h3:focus{outline:none;box-shadow:0 0 0 2px rgba(255,255,255,.1),0 0 0 4px var(--board-accent);} 
.k-col-header .count{background:var(--surface-3);color:var(--color-text-dim);border:1px solid var(--color-border);padding:.12rem .5rem;font-size:.58rem;border-radius:var(--radius-pill);min-width:1.3rem;text-align:center;font-weight:600;}

/* Collapse button */
.collapse-btn{--_size:1.65rem;width:var(--_size);height:var(--_size);border:1px solid var(--color-border);background:var(--surface-3);border-radius:.65rem;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;padding:0;transition:background .25s,border-color .25s;}
.collapse-btn:hover{background:var(--surface-2);} 
.collapse-btn:focus-visible{outline:none;box-shadow:0 0 0 2px var(--board-accent);} 
.collapse-btn .chevron{width:.55rem;height:.55rem;display:block;position:relative;}
.collapse-btn .chevron:before,.collapse-btn .chevron:after{content:"";position:absolute;inset:0;border-radius:1px;background:var(--color-text-dim);transform-origin:center;transition:transform .3s var(--easing),background .25s;}
.collapse-btn .chevron:before{transform:translateY(0) rotate(45deg);}
.collapse-btn .chevron:after{transform:translateY(0) rotate(-45deg);} 
.k-column.is-collapsed .collapse-btn{background:var(--surface-2);} 
.k-column.is-collapsed .collapse-btn .chevron:before{transform:rotate(45deg) translateX(.18rem);} 
.k-column.is-collapsed .collapse-btn .chevron:after{transform:rotate(-45deg) translateX(-.18rem);} 

/* Actions */
.k-col-actions{display:flex;gap:.35rem;margin-left:auto;}
.k-col-actions .icon-btn{background:var(--surface-3);border:1px solid var(--color-border);border-radius:.6rem;padding:.32rem .6rem;font-size:.62rem;cursor:pointer;color:var(--color-text-dim);transition:background .25s,color .25s,border-color .25s;display:inline-flex;align-items:center;justify-content:center;min-width:2rem;line-height:1;font-weight:600;}
.k-col-actions .icon-btn:hover{background:var(--surface-2);color:var(--color-text);border-color:var(--color-border-strong);} 
.k-col-actions .icon-btn.active{background:var(--board-accent);color:#fff;border-color:var(--board-accent);} 
.k-col-actions .icon-btn.danger{color:#f87171;border-color:rgba(239,68,68,.4);}
.k-col-actions .icon-btn.danger:hover{background:rgba(239,68,68,.15);color:#fca5a5;border-color:rgba(239,68,68,.55);} 

/* Card list */
.k-card-list{display:flex;flex-direction:column;gap:.65rem;min-height:2rem;padding:.25rem .3rem .7rem;transition:opacity .25s;} 

/* Empty */
.k-empty{font-size:.6rem;opacity:.6;text-align:center;padding:.75rem 0;color:var(--color-text-dim);letter-spacing:.45px;font-weight:500;}

/* Inline input while renaming */
input{font-size:.66rem;padding:.28rem .5rem;border:1px solid var(--color-border);background:var(--surface-2);border-radius:.55rem;width:100%;font-weight:600;}
input:focus{outline:none;border-color:var(--board-accent);box-shadow:0 0 0 2px rgba(0,0,0,.25),0 0 0 4px var(--board-accent);}

/* Drag animations */
.cdk-drag-animating{transition:transform .15s ease;}
.k-card-list.cdk-drop-list-dragging .k-card:not(.cdk-drag-placeholder){transition:transform .15s ease;}
.cdk-drag-placeholder{opacity:.35;filter:grayscale(.4);border:2px dashed var(--board-accent);border-radius:.75rem;}
.k-card-wrapper.cdk-drag-preview{box-shadow:0 6px 18px -4px rgba(0,0,0,.6),0 3px 8px -2px rgba(0,0,0,.4);border-radius:.75rem;}
.k-card-wrapper{transition:transform .18s var(--easing),box-shadow .25s var(--easing);} 
.k-card-wrapper:focus-within .k-card{box-shadow:0 0 0 2px var(--board-accent);} 

@media (max-width: 800px){
	.k-column{min-width:16rem;max-width:18rem;}
	.k-column.is-collapsed{min-width:4.75rem;max-width:4.75rem;}
	.k-col-header h3{font-size:.7rem;}
}
