/* App shell responsive enhancements */
.skip-link{position:absolute;top:-40px;left:0;background:var(--color-brand);color:#fff;padding:.5rem .75rem;border-radius:.5rem;z-index:200;transition:top .3s;} .skip-link:focus{top:.5rem;}

.app-shell{min-height:100vh;display:grid;grid-template-columns:auto 1fr;grid-template-rows:auto 1fr;background:var(--color-bg);color:var(--color-text);}
.topbar{grid-column:1 / -1;display:flex;align-items:center;justify-content:space-between;gap:1rem;padding:.65rem 1rem;background:linear-gradient(145deg,var(--color-bg-alt2),var(--color-bg-alt));border-bottom:1px solid var(--color-border);box-shadow:var(--shadow-sm);position:sticky;top:0;z-index:60;backdrop-filter:blur(6px);} 
.topbar .brand{font-weight:600;font-size:1rem;letter-spacing:.5px;background:linear-gradient(90deg,var(--color-brand-accent),#fff);-webkit-background-clip:text;background-clip:text;color:transparent;white-space:nowrap;}
.topbar .left-group{display:flex;align-items:center;gap:.7rem;}
.topbar .center-group{display:flex;align-items:center;gap:1rem;flex:1;min-width:0;}
.topbar .top-actions{display:flex;align-items:center;gap:.6rem;}
.search{position:relative;display:flex;align-items:center;}
.search input{background:var(--color-bg-alt2);border:1px solid var(--color-border);border-radius:.65rem;padding:.5rem .75rem;font-size:.75rem;color:var(--color-text);min-width:14rem;transition:background .25s,border-color .25s,box-shadow .25s;width:100%;}
.search input:focus{outline:none;box-shadow:var(--focus-ring);}
.breadcrumbs{display:flex;align-items:center;font-size:.65rem;gap:.35rem;color:var(--color-text-dim);white-space:nowrap;max-width:32ch;overflow:hidden;text-overflow:ellipsis;}
.breadcrumbs a{text-decoration:none;color:var(--color-text-dim);transition:color .25s;}
.breadcrumbs a:hover{color:var(--color-text);} .breadcrumbs .sep{opacity:.45;} .breadcrumbs .current{color:var(--color-text);} 
.accent-swatches{display:flex;align-items:center;gap:.3rem;}
.accent-swatches .swatch{width:1.1rem;height:1.1rem;border-radius:50%;border:2px solid var(--color-bg-alt);box-shadow:0 0 0 1px var(--color-border),0 0 0 3px rgba(0,0,0,.15);background:var(--sw);cursor:pointer;transition:transform .25s,box-shadow .25s;} 
.accent-swatches .swatch:hover{transform:scale(1.1);box-shadow:0 0 0 1px var(--color-brand-accent),0 0 0 4px rgba(124,58,237,.35);} 
.theme-toggle{font-size:.85rem;}
.icon-btn{background:var(--color-bg-alt2);border:1px solid var(--color-border);color:var(--color-text-dim);display:inline-flex;align-items:center;justify-content:center;padding:.5rem .7rem;font-size:.8rem;border-radius:.65rem;cursor:pointer;transition:background .25s,color .25s,border-color .25s,transform .25s;}
.icon-btn:hover{background:var(--color-bg-alt);color:var(--color-text);} .icon-btn:active{transform:translateY(1px);} .icon-btn:focus-visible{outline:none;box-shadow:var(--focus-ring);}
.icon-btn.close{font-size:.65rem;padding:.35rem .5rem;}

/* Layout adjustments for collapsed desktop now driven by side-nav width */
@media (min-width:1025px){
	.app-shell{grid-template-columns:auto 1fr;transition:grid-template-columns .35s var(--easing);} 
}

/* Overlay for mobile */
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.55);backdrop-filter:blur(3px);z-index:50;}

/* Mobile & tablet responsiveness */
@media (max-width: 1024px){
	.app-shell{grid-template-columns:0 1fr;}
	.sidebar{position:fixed;inset:0 auto 0 0;width:15rem;transform:translateX(-100%);transition:transform .35s cubic-bezier(.4,0,.2,1),box-shadow .3s;box-shadow:var(--shadow-md);}
	.app-shell.sidebar-open .sidebar{transform:translateX(0);}
	.main{padding:1rem .9rem 2rem;}
}
@media (max-width: 640px){
	.topbar{padding:.55rem .7rem;gap:.6rem;}
	.topbar .brand{font-size:.8rem;}
	.nav-link{font-size:.7rem;padding:.5rem .6rem;}
	.main{padding:1rem .9rem 2rem;}
	.search input{min-width:0;width:8rem;}
	.accent-swatches{display:none;}
	.task-card{font-size:.68rem;}
	.kb-header h1{font-size:.95rem;}
	input,textarea,select{font-size:.6rem;}
	.topbar .brand{font-size:.85rem;}
}
@media (max-width: 440px){
	.search{display:none;}
	.topbar .top-actions{gap:.25rem;}
	.icon-btn{padding:.35rem .45rem;font-size:.7rem;}
	.kb-header{padding:.6rem .7rem;}
	.filters button{padding:.3rem .55rem;}
	.board-columns{grid-template-columns:1fr!important;}
	.kanban-column{height:auto;}
}

/* Larger screens enhancements */
@media (min-width: 1600px){
	.board-columns{grid-template-columns:repeat(auto-fit,minmax(300px,1fr));}
	.task-card{font-size:.75rem;}
}

/* Preference: reduce motion refine (override shorter transitions) */
@media (prefers-reduced-motion: reduce){ }
